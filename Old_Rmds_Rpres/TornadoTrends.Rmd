Tornado Trends
==============

Last week we learned how to plot tornadoes on a map. This week we examine whether tornadoes are happening more often now than in the past.

First get the data into R.
```{r}
L = 'http://myweb.fsu.edu/jelsner/data/Tornadoes.csv'
df = read.csv(file = L, header = TRUE)
```

Open the df data frame (spreadsheet). Note that each row is a unique tornado. The yr column is the year of the tornado and mag is the highest damage rating on the EF scale. Also note that there is a date column. The date is a character so we need to change it to a calendar date.

Here we so we filter out the tornadoes that did little or no damage (EF0) and years before 1954.
```{r}
library("dplyr")
library("lubridate")
df2 = df %>%
  filter(yr >= 1954, mag > 0) %>%
  mutate(Date = as.Date(date))
```

Next we determine the number of tornadoes by date and create a Year column.
```{r}
df2 = df2 %>%
  group_by(Date) %>%
  summarize(nT = n()) %>%
  mutate(Year = year(Date))
```
Open df2. Each row is now a date (group_by variable) with the number of tornadoes and the year.

Finally we group by year and count the total number of tornadoes, the number of tornado days and the number of big tornado days.
```{r}
df3 = df2 %>%
  group_by(Year) %>%
  summarize(nTT = sum(nT), 
            nD = n(), 
            nBigD = sum(nT >= 16))
```
Open df3. Each row is now a year and there is the total number of tornadoes, the number of days with at least one tornado, and the number of days with at least 16 tornadoes.

Now lets look at these data with plots. First, plot the number of tornadoes by year.
```{r}
library("ggplot2")
ggplot(df3, aes(x = Year, y = nTT)) +
  geom_point() +
  geom_smooth(method = lm) +
  scale_y_continuous(limits = c(0, 1000))
```

There is no trend in the overall number of tornadoes. But what about the number of days with many tornadoes?
```{r}
ggplot(df3, aes(x = Year, y = nBigD)) +
  geom_point() +
  geom_smooth(method = lm) +
  scale_y_continuous(limits = c(0, 16))
```

Here we see a significant rise in the number of big tornado days. As explained in the lectures this is likely due to increases in moisture with rising temperature.

Try using a different definition of big days (e.g., nT >= 20).