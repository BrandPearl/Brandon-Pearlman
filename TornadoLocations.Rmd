Locating Tornadoes
==================

Last week we learned how to make a map in R using the functions from the **ggmap** package.

This week we add tornado locations to the map.

The original data are available as a spatial lines file from the Storm Prediction Center (SPC). This takes time to download so I've repackaged the data as a data frame and saved it as a csv file on my website. 

In case you are curious, here is the code to do that.
```{r, eval=FALSE}
download.file(url = "http://www.spc.noaa.gov/gis/svrgis/zipped/tornado.zip",
              destfile = "tornado.zip")
unzip("tornado.zip")
library("rgdal")
TornL = readOGR(dsn = "torn", layer = "torn", 
                stringsAsFactors = FALSE)
df = as.data.frame(TornL)
write.csv(df, file = "Tornadoes.csv")
```

As we've done before we save the file's location as a character string then use the read.csv() function.
```{r}
L = 'http://myweb.fsu.edu/jelsner/data/Tornadoes.csv'
df = read.csv(file = L, header = TRUE)
```

Next we select only the intense tornadoes (EF3+) that have hit Kansas. This is done with the filter() function from the **dplyr** package.
```{r}
library("dplyr")
df = df %>%
  filter(st == "KS", mag >= 3)
```

Get a base map and add the tornado locations.
```{r}
library("ggmap")
loc = geocode("Kansas")
Map = get_map(location = loc, 
              source = "google",
              zoom = 6,
              color = "bw",
              maptype = "terrain")
ggmap(Map, dev = "extent") +
    labs(x = expression(paste("Longitude (", degree, "W)")), 
       y = expression(paste("Latitude (", degree, "N)"))) +
  geom_point(mapping = aes(x = slon, y = slat, size = factor(mag)), data = df, alpha = .3)
```

Nice! Try it for Florida.
